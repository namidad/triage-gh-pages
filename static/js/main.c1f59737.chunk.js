(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e){e.exports=[{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]}]},196:function(e,t,n){e.exports=n(351)},206:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(28),r=n.n(o),i=n(58),c=n(60),s=(n(205),n(206),n(29)),u=n(30),d=n(33),m=n(31),g=n(34),h=n(89),p=n(70),f=function(e){var t;return"red"===e.color?t="http://labs.google.com/ridefinder/images/mm_20_red.png":"yellow"===e.color?t="http://labs.google.com/ridefinder/images/mm_20_yellow.png":"green"===e.color?t="http://labs.google.com/ridefinder/images/mm_20_green.png":"black"===e.color&&(t="http://labs.google.com/ridefinder/images/mm_20_black.png"),l.a.createElement(p.Marker,Object.assign({onClick:e.onChangeId,icon:t,position:{lat:e.lat,lng:e.lng}},e))},v=n(358),b=n(164),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={id:0,color:"",lat:0,lng:0,injury:"",green:!0,yellow:!0,red:!0,black:!0,victims:[{id:0,color:"black",lat:51.1089776,lng:17.0326689,injury:"head"},{id:1,color:"green",lat:51.108197,lng:17.032295,injury:"hand"},{id:2,color:"red",lat:51.109147,lng:17.031609,injury:"leg"},{id:3,color:"yellow",lat:51.108877,lng:17.033186,injury:"eye"}]},n.handleChangeId=function(e){n.setState({id:e.id,color:n.state.victims[e.id].color,lat:n.state.victims[e.id].lat,lng:n.state.victims[e.id].lng,injury:n.state.victims[e.id].injury})},n.handleChecked=function(e){var t;"green"===e?t=!n.state.green:"yellow"===e?t=!n.state.yellow:"red"===e?t=!n.state.red:"black"===e&&(t=!n.state.black),n.setState(Object(h.a)({},e,t))},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.setState({id:this.state.victims[0].id,color:this.state.victims[0].color,lat:this.state.victims[0].lat,lng:this.state.victims[0].lng,injury:this.state.victims[0].injury})}},{key:"render",value:function(){var e=this,t=this.state.victims.map(function(t){if("green"===t.color){if(e.state.green)return l.a.createElement(f,{color:t.color,key:t.id,lat:t.lat,lng:t.lng,id:t.id,onClick:e.handleChangeId})}else if("red"===t.color){if(e.state.red)return l.a.createElement(f,{color:t.color,key:t.id,lat:t.lat,lng:t.lng,id:t.id,onClick:e.handleChangeId})}else if("black"===t.color){if(e.state.black)return l.a.createElement(f,{color:t.color,key:t.id,lat:t.lat,lng:t.lng,id:t.id,onClick:e.handleChangeId})}else if("yellow"===t.color&&e.state.yellow)return l.a.createElement(f,{color:t.color,key:t.id,lat:t.lat,lng:t.lng,id:t.id,onClick:e.handleChangeId});return null});return l.a.createElement("div",{className:"mapContainer"},l.a.createElement("div",{className:"injuredMap"},l.a.createElement(v.a,{onChange:function(t){return e.handleChecked("green")},label:"Show green band",defaultChecked:!0}),l.a.createElement(v.a,{onChange:function(t){return e.handleChecked("yellow")},value:"yellow",label:"Show yellow band",defaultChecked:!0}),l.a.createElement(v.a,{onChange:function(t){return e.handleChecked("red")},value:"red",label:"Show red band",defaultChecked:!0}),l.a.createElement(v.a,{onChange:function(t){return e.handleChecked("black")},value:"black",label:"Show black band",defaultChecked:!0}),l.a.createElement(p.Map,{google:this.props.google,style:{width:"40%",height:"80%"},styles:b,initialCenter:{lat:51.108197,lng:17.0326689},zoom:18},t)),l.a.createElement("div",{className:"injuredForm"},l.a.createElement("h2",null,"Poszkodowany nr: ",this.state.id),l.a.createElement("h3",null,"Kolor opaski: ",this.state.color),l.a.createElement("h3",null,"Lat: ",this.state.lat),l.a.createElement("h3",null,"Lng: ",this.state.lng),l.a.createElement("h3",null,"Obrazenia: ",this.state.injury)))}}]),t}(a.Component),E=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyCblUbnkuTFlV_z1Uz0L5zowqVds8iIim0"})(y),w=n(364),k=n(359),j=n(361),C=void 0,O=function(e){var t=e.signOut;return C.handleClick=function(){console.log("Witam")},l.a.createElement(w.a.Item,{position:"right"},l.a.createElement(j.a.Item,{onClick:C.handleClick,text:"Przelacz",icon:"download"}),l.a.createElement(j.a.Item,{onClick:t,text:"Sign Out",icon:"power"}))},S=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(w.a,{inverted:!0,fixed:"top"},l.a.createElement(k.a,null,l.a.createElement(w.a.Item,{as:i.b,to:"/",header:!0},l.a.createElement("img",{src:"/assets/logo.png",alt:"logo"}),"Triage"),l.a.createElement(O,{signOut:this.handleSignOut})))}}]),t}(a.Component),I=Object(c.b)(function(e){return{authenticated:e.user.isAdmin}})(S),L=n(47),D=n(365),N=n(366),_=n(360),z=n(367),A=n(363),P=n(362),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={login:"",password:"",user:{customerID:0,personalID:0,login:"",password:"",vallet:0,name:"",surname:"",phone:"",email:""},users:[],logged:!1,error:!1,new:!1,sameLogin:!1},n.handleLogin=function(e){e.preventDefault(),n.props.history.push("/triage")},n.handleLoginChange=function(e){n.setState({login:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleSignIn=function(){n.setState({new:!n.state.new})},n.onInputChange=function(e){var t=n.state.user;t[e.target.name]=e.target.value,"login"===e.target.name?n.setState({user:t,sameLogin:!1}):n.setState({user:t})},n.onFormSubmit=function(e){e.preventDefault();var t=n.state.user;if(t.login.length>0&&t.password.length>0&&t.name.length>0&&t.surname.length>0&&t.phone>0&&t.email.length>0){var a=!1;n.state.users.forEach(function(e){e.Login.toUpperCase()===t.login.toUpperCase()?(a=!0,n.setState({sameLogin:!0})):e.Email===t.email&&(a=!0,n.setState({sameEmail:!0}))}),a||(fetch("/combined",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({CustomerID:0,PersonalID:0,Login:t.login,Password:t.password,ValletBalance:0,Name:t.name,Surname:t.surname,PhoneNumber:t.phone,Email:t.email})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)}),n.setState({login:"",password:"",user:{customerID:0,personalID:0,login:"",password:"",vallet:0,name:"",surname:"",phone:"",email:""},logged:!1,error:!1,new:!1,sameLogin:!1}),fetch("/customers").then(function(e){return e.json()}).then(function(e){n.setState({users:e})}).catch(function(e){return console.log(e)}))}},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.isLogged||this.state.new?(this.props.history.push("/videos"),null):l.a.createElement("div",null,l.a.createElement("div",{className:"ui inverted vertical masthead center aligned segment"},l.a.createElement("div",{className:"ui text container"},l.a.createElement("h1",{className:"ui inverted stackable header"},l.a.createElement("img",{className:"ui image massive",src:"/assets/logo.png",alt:"logo"}),l.a.createElement("div",{className:"content"},"Triage")),l.a.createElement(D.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},l.a.createElement(D.a.Column,{style:{maxWidth:450}},l.a.createElement(N.a,{as:"h2",color:"teal",textAlign:"center"},"Login to your account"),l.a.createElement(_.a,{size:"large"},l.a.createElement(z.a,{stacked:!0},l.a.createElement(_.a.Input,{onChange:this.handleLoginChange,fluid:!0,icon:"user",iconPosition:"left",placeholder:"Login"}),l.a.createElement(_.a.Input,{onChange:this.handlePasswordChange,fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),l.a.createElement(A.a,{onClick:this.handleLogin,color:"teal",fluid:!0,size:"large"},"Login"))),this.state.error&&l.a.createElement(P.a,{negative:!0},l.a.createElement(P.a.Header,null,"Blad logowania"),l.a.createElement("p",null,"Bledny login lub haslo. Sprobuj ponownie!")))))))}}]),t}(a.Component),T=Object(c.b)(function(e){},function(e){})(x),B=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L.c,null,l.a.createElement(L.a,{exact:!0,path:"/",component:T})),l.a.createElement(L.a,{path:"/(.+)",render:function(){return l.a.createElement("div",null,l.a.createElement(I,null),l.a.createElement(k.a,{className:"main"},l.a.createElement(L.c,null,l.a.createElement(L.a,{path:"/triage",component:E}))))}}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(45),W=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),M=Object(L.e)(W),V=n(182),F={isLogged:!1,isAdmin:!0,user:[],valletBalance:0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return e=Object(V.a)({},e,{user:t.login,isLogged:t.login.logged,valletBalance:t.login.ValletBalance});default:return e}},G={videos:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_VIDEOS":return e={videos:t.videos};default:return e}},q=Object(U.c)({videos:K,user:J}),H=n(183),R=Object(U.d)(q,Object(U.a)(H.a)),$=document.getElementById("root");r.a.render(l.a.createElement(c.a,{store:R},l.a.createElement(i.a,null,l.a.createElement(M,null,l.a.createElement(B,null)))),$),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,1,2]]]);
//# sourceMappingURL=main.c1f59737.chunk.js.map